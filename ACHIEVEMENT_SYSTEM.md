# 도전과제 시스템 가이드

## 🎯 시스템 개요

성장닷컴의 도전과제 시스템은 학생들의 동기부여를 위해 설계된 게임화 시스템입니다.

## 📅 월별 리셋 시스템

### 자동 리셋 (매월 1일)
- **모든 도전과제의 진행 상황이 리셋됩니다**
  - 기본 도전과제: 진행 상황 0으로 초기화
  - 월별 특별 도전과제: 새로운 도전과제로 교체
- 완료된 도전과제 기록은 보존됩니다 (통계용)

### 리셋 동작 방식
1. 이전 달 완료 기록 저장
2. 모든 사용자의 도전과제 진행 상황 초기화
3. 새로운 월별 특별 도전과제 선택
4. 모든 활성 도전과제를 사용자에게 재할당

## 🏆 도전과제 종류

### 기본 도전과제 (51개)
- 항상 활성화되어 있음
- 매월 진행 상황 리셋
- 카테고리: 학습, 운동, 독서, 시간, 레벨, 특별 등

### 월별 특별 도전과제
- 매월 테마에 맞는 특별 도전과제
- 월별로 자동 교체
- 예시:
  - 1월: 새해 결심 지키기
  - 2월: 사랑의 학습
  - 3월: 봄맞이 도약
  - 9월: 가을 수확
  - 12월: 연말 결산

## 🛠️ 관리자 기능

### 수동 로테이션
```bash
POST /api/achievements/rotate
```
- 권한: TEACHER 역할 필요
- 월별 도전과제를 수동으로 로테이션

### 수동 리셋
```bash
POST /api/achievements/reset
```
- 권한: TEACHER 역할 필요
- 옵션:
  - `resetCompleted: false` - 미완료 도전과제만 리셋
  - `resetCompleted: true` - 모든 도전과제 완전 리셋

## 📊 난이도 체계

- **쉬움 (Easy)**: 초록색, 기본 보상
- **보통 (Medium)**: 파란색, 중간 보상
- **어려움 (Hard)**: 보라색, 높은 보상
- **전설 (Legendary)**: 주황색, 최고 보상

## 💡 주요 특징

1. **진행 상황 추적**: 실시간으로 도전과제 진행 상황 업데이트
2. **보상 시스템**: XP 보상으로 레벨업 유도
3. **시각적 피드백**: 완료 시 애니메이션과 뱃지
4. **필터링**: 카테고리별, 난이도별 필터링 가능
5. **월별 테마**: 계절과 이벤트에 맞는 특별 도전과제

## 🔄 업데이트 주기

- **일일**: 진행 상황 체크 및 업데이트
- **월별**: 1일에 자동 로테이션 및 리셋
- **실시간**: 활동 기록 시 즉시 진행 상황 반영

## 📝 데이터베이스 구조

### Achievement 테이블
- 도전과제 정의
- 카테고리, 난이도, 보상 정보
- 월별/기본 구분

### UserAchievement 테이블
- 사용자별 진행 상황
- 완료 여부 및 보상 수령 상태
- 완료 날짜 기록

## 🚀 향후 개선 사항

1. **히스토리 시스템**: 월별 완료 기록 저장 및 조회
2. **리더보드**: 도전과제 완료 순위
3. **팀 도전과제**: 친구와 함께 달성하는 협동 도전과제
4. **시즌 시스템**: 분기별 특별 시즌 도전과제
5. **커스텀 도전과제**: 선생님이 직접 만드는 도전과제